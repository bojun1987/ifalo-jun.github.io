var com,__extends=this&&this.__extends||function(){var n=function(t,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a])})(t,a)};return function(t,a){function e(){this.constructor=t}n(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();!function(n){!function(n){!function(n){!function(n){var t=function(n){function t(){var t=n.call(this)||this;return t._bgmVolume=1,t._sndVolume=1,t._sndDatas=[],t}return __extends(t,n),Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._sndDatas.length=0,this._sndDatas=null,t._instance=null},t.prototype.getSoundData=function(n){for(var t=this._sndDatas.length-1;t>=0;--t){var a=this._sndDatas[t];if(a instanceof n)return a}throw new Error("未搜尋到指定的聲音資料")},t.prototype.addSoundData=function(n){for(var t=this._sndDatas.length-1;t>=0;--t){if(this._sndDatas[t]instanceof n)throw new Error("不支援設置重複的聲音資料")}var a=new n;this._sndDatas.push(a)},t.prototype.removeSoundData=function(n){for(var t=this._sndDatas.length-1;t>=0;--t){this._sndDatas[t]instanceof n&&this._sndDatas.splice(t,1)}},t.prototype.getSoundUrls=function(){for(var n=[],t=this._sndDatas.length-1;t>=0;--t){var a=this._sndDatas[t];for(var e in a)if(-1!=e.indexOf("bgm_")||-1!=e.indexOf("snd_"))if(Array.isArray(a[e]))for(var o=0,r=a[e];o<r.length;o++){var s=r[o];n.push({url:s,type:Laya.Loader.SOUND})}else n.push({url:a[e],type:Laya.Loader.SOUND})}return n},t.playBgm=function(n,a){void 0===a&&(a=!1),!a&&t.instance._currentBgm&&n&&t.instance._currentBgm==n||(t.instance._currentBgm=n,n?Laya.SoundManager.playMusic(n):Laya.SoundManager.stopMusic())},t.isCurrentBgm=function(n){return t.instance._currentBgm==n},t.playSnd=function(n,t){void 0===t&&(t=1),null!=n?(t<1&&(t=1),Laya.SoundManager.playSound(n,t)):console.warn("[SoundManager.playSnd] 播放空音效檔")},t.stopSnd=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var a=0,e=n;a<e.length;a++){var o=e[a];Laya.SoundManager.stopSound(o)}},t.stopAllSnd=function(){Laya.SoundManager.stopAllSound()},Object.defineProperty(t,"bgmVolume",{get:function(){return t.instance._bgmVolume},set:function(n){Laya.SoundManager.musicVolume=t.instance._bgmVolume=n,Laya.SoundManager.musicMuted=0==n},enumerable:!0,configurable:!0}),Object.defineProperty(t,"sndVolume",{get:function(){return t.instance._sndVolume},set:function(n){Laya.SoundManager.soundVolume=t.instance._sndVolume=n,Laya.SoundManager.soundMuted=0==n},enumerable:!0,configurable:!0}),t}(Laya.EventDispatcher);n.SoundManager=t}(n.sound||(n.sound={}))}(n.utils||(n.utils={}))}(n.ifalo||(n.ifalo={}))}(com||(com={}));