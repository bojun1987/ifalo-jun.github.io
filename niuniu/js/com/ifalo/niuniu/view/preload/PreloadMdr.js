var com,__extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(o){!function(o){!function(o){!function(t){!function(e){var n=o.model.po.GamePO,a=t.ui.res.niuniu.views.preload.PreloadSceneUI,r=o.ctrl.lists.CmdNote,i=o.ctrl.lists.CmdType,s=function(o){function t(e){var n=o.call(this,t.MDR_NAME)||this;return n._loadingMsg="載入中...",e&&(n._loadingMsg=e),n}return __extends(t,o),t.prototype.onRegister=function(){this.log("已註冊 "+this.mediatorName+" 於 Facade (key: "+this.multitonKey+")"),Laya.loader.load([{url:"res/niuniu/startup/bgStartup_"+n.LangManager.instance.langCode+".jpg",type:Laya.Loader.IMAGE,group:t.MDR_NAME},{url:"res/niuniu/startup/progress.png",type:Laya.Loader.IMAGE,group:t.MDR_NAME},{url:"res/niuniu/startup/progress$bar.png",type:Laya.Loader.IMAGE,group:t.MDR_NAME}],Laya.Handler.create(this,this.doGotoScene))},t.prototype.onRemove=function(){o.prototype.onRemove.call(this),Laya.loader.clearResByGroup(t.MDR_NAME)},t.prototype.doGotoScene=function(o){this._comp=new a,this._comp.progress_loading.value=0,Laya.stage.addChild(this._comp),n.loadAllRes(Laya.Handler.create(this,this.onCompleted),Laya.Handler.create(this,this.onLoaded,null,!1))},t.prototype.doExitScene=function(){Laya.stage.removeChild(this._comp)},t.prototype.onLoaded=function(o){this._comp.progress_loading.value=o},t.prototype.onCompleted=function(){var o=this;this.log("讀取資源完成"),this._comp.on(Laya.Event.MOUSE_UP,this._comp,function(){n.SoundManager.playSnd(n.sndData.snd_btnClick)}),this._comp.once(Laya.Event.MOUSE_DOWN,this._comp,function(){o.log("點我啊 笨蛋"),n.SoundManager.playBgm(n.sndData.bgm_lobby),o.facade().removeMediator(t.MDR_NAME),o.sendNotification(r.CHANGE_SCENE,null,i.SCENE_MENU),o.sendNotification(r.CHANGE_SCENE,null,i.SCENE_LOBBY)})},t.MDR_NAME="PreloadMdr",t}(t.BaseMdr);e.PreloadMdr=s}(t.preload||(t.preload={}))}(o.view||(o.view={}))}(o.niuniu||(o.niuniu={}))}(o.ifalo||(o.ifalo={}))}(com||(com={}));